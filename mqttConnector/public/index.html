<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Frontend</h1>
    <input type="checkbox" name="pump_state" id="pump_state">
    <p>
        
<<<<<<< HEAD
    </p>
=======
        <section class="sidenav">
            <h1>Pump IoT</h1>
            <div>
                <ul>
                    <li>Overview</li>
                    <li>Notifications</li>
                    <li>Reports</li>
                </ul>
            </div>
        </section>

        <section id="main">
            <header>
                <h1>Overview</h1>
            </header>
            <div class="chart">
                <canvas id="myChart"></canvas>
            </div>
        </section>
        <section id="user_det">
            <div id="details">
                <h3>Pump Properties</h3>
                <input type="checkbox" name="switch" id="switch" style="display: none;"/>
                <ul>
                    <li>Voltage</li>
                    <li>Current</li>
                    <li>Speed</li>

                </ul>                
                <label class="switch">
                    <input type="checkbox">
                    <span class="slider round"></span>
                  </label>
            </div>
            
            <div id="extra">
                <h3>Tank Activity</h3>
                <ul>
                    <h5>Today</h5>
                    <li>Water present</li>
                    <li>Water Used</li>
                    <h5>Yesterday</h5>
                    <li>Water present</li>
                    <li>Water Used</li>
                </ul>

                <table>
                    <tr>
                    <th>Usage</th>
                    </tr>

                    <tbody id="data"></tbody>
                </table>
            </div>
        </section>
    </main>
    <script>
        let dataName = []
        let request = async()=>{
            const response = await fetch('http://localhost:3000')
            const data = await response.json()
            dataName.push(data)
        }
        console.log(dataName);
    </script> 
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
>>>>>>> 7a82d15c8244f37e5218079ab217a89f77c9d18c

    <script src="/socket.io/socket.io.js"></script>
    <script>
        let socket = io()
        let arr = []
        let ourChart = null
        socket.on('data',(res)=>{
<<<<<<< HEAD
            console.log(res);
=======
                arr.unshift(res.volume)
                console.log(arr);


                const ctx = document.getElementById('myChart');
                const data = {
                            labels: [
                                'Red',
                                'Blue'
                            ],
                            datasets: [{
                                label: 'My First Dataset',
                                data: [300, arr[0]],
                                backgroundColor: [
                                'rgb(255, 99, 132)',
                                'rgb(54, 162, 235)'
                                ],
                                hoverOffset: 4
                            }]
                            }
                let config = {
                            type: 'doughnut',
                            data,
                            options: {
                                responsive: true,
                                plugins: {
                                legend: {
                                    position: 'top',
                                },
                                title: {
                                    display: true,
                                    text: 'Chart.js Doughnut Chart'
                                }
                                }
                            }

                        }

                if(ourChart!=null){
                    ourChart.destroy();
                }
                ourChart=new Chart(ctx, config)  
>>>>>>> 7a82d15c8244f37e5218079ab217a89f77c9d18c
        })
        // console.log(arr);

        
    </script>
</body>
</html>